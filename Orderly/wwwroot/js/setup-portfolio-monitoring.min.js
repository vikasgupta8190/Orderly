var setupPortfolioMonitoring={filterCardUrl:!1,deleteConfirmationMessage:!1,deleteUrl:!1,saveUrl:!1,getPopupUrl:!1,init:function(n,t,i,r,u){this.filterCardUrl=n;this.deleteConfirmationMessage=t;this.deleteUrl=i;this.saveUrl=r;this.getPopupUrl=u},filterPortfolioCards:function(n){var t=$(n).val();ajaxRequests.GET(this.filterCardUrl+"?searchKey="+t,this.renderPortfolioCards,this.showError)},renderPortfolioCards:function(n){$(".sp_cards").remove();$(".sp_search").after(n)},showError:function(){},openLeftPanel:function(n){this.showPopup(n)},addAdditionalAddress:function(){$(".address-modal").append($(".address-div").html());$(".add_address").removeAttr("onclick")},"delete":function(n,t){if(this.validateFields()){var i=$(".address-inner-div").length;n&&confirm(this.deleteConfirmationMessage)&&ajaxRequests.POST(this.deleteUrl+"?addressId="+n+"",null,n=>{if(n.status){i>2&&($(t).parent().remove(),$(".add_address").attr("onclick","setupPortfolioMonitoring.addAdditionalAddress()"));var r=$("#ValidateAddressModal").attr("data-bs-id");this.showPopup($('.sp_cards_inner.sp_card_fill_address[data-bs-id="'+r+'"]'))}orderlyNotification.getNotificaitonHtml()})}},removeAddress:function(n,t){n!==null?this.delete(n,t):($(t).parent().remove(),$(".add_address").attr("onclick","setupPortfolioMonitoring.addAdditionalAddress()"))},validate:function(n){if($(n).val()!=""){$(n).parent().find(".validation").html("");var i=$("#ValidateAddressModal").attr("data-bs-id"),t=/^0x[a-fA-F0-9]{40}$/.test($(n).val());t?($(n).attr("data-varified","true"),$(n).parent().find(".validation").html("Verified"),$(n).parent().find(".validation").removeClass("text-danger"),$(n).parent().find(".validation").addClass("text-success"),$(".add_address").attr("onclick","setupPortfolioMonitoring.addAdditionalAddress()")):($(n).attr("data-varified","false"),$(n).parent().find(".validation").html("Not Verified"),$(n).parent().find(".validation").addClass("text-danger"),$(n).parent().find(".validation").removeClass("text-success"),$(".add_address").removeAttr("onclick"))}},savePortFolioMonitoring:function(){if(this.validateFields()){var n=this.getData();ajaxRequests.POST(this.saveUrl,{portFolios:n},n=>{if(n.status){var t=$("#ValidateAddressModal").attr("data-bs-id");this.showPopup($('.sp_cards_inner.sp_card_fill_address[data-bs-id="'+t+'"]'))}orderlyNotification.getNotificaitonHtml()})}},getData:function(){var n=[],t=$("#ValidateAddressModal").attr("data-bs-id");return $(".address-modal .address-inner-div").each(function(){var i=$(this).attr("data-id");i||(i=0);var u=$(this).find('input[data-target="alies"]').val(),f=$(this).find('input[data-target="address"]').val(),r=!1;t!==1&&(r=$(this).find("#chkBNB").is(":checked"));n.push({AddressAlies:u,Address:f,TypeId:t,Id:i,IsSameAddressForBNB:r})}),n},validateFields:function(){var n=!0,t=/^0x[a-fA-F0-9]{40}$/;return $('#ValidateAddressModal input[data-target="address"]').each(function(){n=t.test($(this).val());n||($(this).attr("data-varified","false"),$(this).parent().find(".validation").html("Invalid Address"),$(this).parent().find(".validation").addClass("text-danger"),$(this).parent().find(".validation").removeClass("text-success"))}),n},showPopup:function(n){var t=$(n).attr("data-bs-id");ajaxRequests.GET(this.getPopupUrl+"?typeId="+t,t=>{$("#ValidateAddressModal .modal-content").html("").html(""+t+"");var i=$(n).attr("data-bs-target");$(""+i+"").attr("data-bs-id",$(n).attr("data-bs-id"))},()=>{})}};