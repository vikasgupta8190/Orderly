var distributor={saveDistributionUrl:!1,groupIds:!1,init:function(n,t){this.saveDistributionUrl=n;this.groupIds=t},addAdditionalAddr:function(){$(".additional-address").append($("#address-div").html())},removeAddress:function(n,t){n!==null?Delete(n,t):$(t).parent().remove()},saveAddress:function(){if(this.validateFields()){var n=this.getData();console.log(n);ajaxRequests.POST(this.saveDistributionUrl,{distributorAddresses:n},n=>{if(n.status){var t=$("#ValidateAddressModal").attr("data-bs-id");showPopup($('.sp_cards_inner.sp_card_fill_address[data-bs-id="'+t+'"]'))}orderlyNotification.getNotificaitonHtml()})}},validateFields:function(){var n=!0,t=/^0x[a-fA-F0-9]{40}$/;return $('#distributorAddressModal input[data-target="address"]').each(function(){n=t.test($(this).val());n||($(this).attr("data-varified","false"),$(this).parent().find(".validation").html("Invalid Address"),$(this).parent().find(".validation").addClass("text-danger"),$(this).parent().find(".validation").removeClass("text-success"))}),$("#chkGroup").is(":checked")&&$.trim($("#groupName").val()).length==0&&(n=!1,$(".group-validation").html("This field is required.")),n},getData:function(){var n={},i=[],r=$("#distributorAddressModal").attr("data-bs-id"),t;return $(".address-modal .address-inner-div").each(function(){var n=$(this).attr("data-id"),t,r;n||(n=0);t=$(this).find('input[data-target="alies"]').val();r=$(this).find('input[data-target="address"]').val();i.push({Alias:t,Name:r,Id:n})}),t="",$("#chkGroup").is(":checked")&&(t=$.trim($("#groupName").val())),n.Addresses=i,n.Group=$("#chkGroup").is(":checked"),n.GroupId=$("#txtGroup").val(),n.GroupName=t,n},renderHexWithDots:function(n){return this.sliceHexString(n)},sliceHexString:function(n){return n.slice(0,7)+"....."+n.slice(n.length-7,n.length)},renderQuantity:function(n,t,i){return""+n+" "+i.quantityPostfix+'<span class="holding_btc"> $'+i.dollarAmount+"<\/span>"},renderToDiv:function(n,t,i){var r="OUT",u="cus_out";return i.in&&(r="IN",u="cus_in"),'<span class="'+u+'">'+r+"<\/span>"+this.sliceHexString(n)+""},setFilter:function(n){$("#FilterType").val(n);refresh_transaction_details_grid()},bindTotalDistributedAndToBeDistributedCount:function(n){$("#total-distributed").html("").html("$"+n.totalDisributed.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","));n.totalToBeDisributed>0?$("#to-be-distributed").html("").html("$"+n.totalToBeDisributed.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")):$("#to-be-distributed").html("").html("$0")},getAddress:function(){$("#Address").val()!=""&&refresh_transaction_details_grid()}};$(document).ready(function(){$("#chkGroup").click(function(){$(this).is(":checked")?$(".makegroup").hasClass("d-none")&&$(".makegroup").removeClass("d-none"):$(".makegroup").hasClass("d-none")||$(".makegroup").addClass("d-none")});$("#groupName").keypress(function(){$(".group-validation").html("")});$("#distributePopup").on("click",function(){$("#distribute_popup_model").toggle()});$("#new-contact").submit(function(n){n.preventDefault();var t=$(this).attr("action");ajaxRequests.POST(t,$(this).serialize(),n=>{n.success&&(refresh_contact_grid(),$(this).trigger("reset")),orderlyNotification.getNotificaitonHtml()},()=>{})});$("#"+this.groupIds+"").kendoMultiSelect({animation:{open:{effects:"zoom:in",duration:300}}})});